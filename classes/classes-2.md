# PHP Mentorship. Part 2
Лог ключевых мыслей и ссылок из второго занятия по PHP. Занятие проходило 12 июля 2015.

Как правило в классах делаюют красиво — вначале объявляются просто переменные, а в методе `__construct()` они заполняются значениями. Делается это потому что иногда мы не можем сразу узнать значения переменных напрямую в момент их описания. Это называется не скалярные переменные. Подробнее про [скалярные переменные](http://php.net/manual/en/function.is-scalar.php).

Иногда для постройки класса может использоваться отдельный класс. [Пример](https://sourcemaking.com/design_patterns/builder/php/1) (правда он не очень качественный).

В качестве аргументов к функциям можно передавать переменные определенных типов явно указывая нужный тип. Это может быть класс, массив или что-то в этом духе. В примере нужно обратить внимание на передаваемые переменные — `OtherClass $otherclass`. [Подробности](http://php.net/manual/ru/language.oop5.typehinting.php).

```
class MyClass
{
    /**
     * Тестовая функция
     *
     * Первый параметр должен быть объектом типа OtherClass
     */
    public function test(OtherClass $otherclass) {
        echo $otherclass->var;
    }


    /**
     * Другая тестовая функция
     *
     * Первый параметр должен быть массивом
     */
    public function test_array(array $input_array) {
        print_r($input_array);
    }
```

[Образцово-показательный код](https://github.com/etki/allure-runner/blob/59f508eeb396b964aacc1e7c168faeb7a2cc05a8/src/DependencyInjection/ContainerBuilder.php) от @etki.

Все и всегда лучше хранить централизованно и один раз, а не копировать одни данные в 10 мест, как это часто делают WordPress-плагины.

WordPress медленный :)

## Пространства имен

Чтобы не писать очень длинные названия классов, например, `PHPUnit_Framework_TestCase` были придуманы пространства имен.

```
PHPUnit_Framework_TestCase
phpunit.zip
Framework/TestCase.php
Etki\Playground
Etki\Playground\SuperClass
Etki\Playground\StringUtils\TextEditor
StringUtils/TextEditor.php
```

Все это пишется в формате — `производитель\название_проекта\название_класса`.

## Инснтрументы

Немного познакомились с Composer — пакетный менеджер упрощающий жизнь. Как и Bower он позволяет загружать необходимые пакеты в собственную папку (`vendor`). Для создания главного файла конфигурации можно использовать команду `composer init`, а не заполнять файл вручную.

## Что еще?

Скачали с помощью Composer фреймворк Yii и посмотрели что там внутри. Разобрались где какие файлы лежат. Поняли, что Yii не самый красивый фреймворк в плане внутренней архитектуры.

Узнали, что в PHP с версии 5.4 есть [встроенный веб-сервер](http://php.net/manual/en/features.commandline.webserver.php). Запускается примерно так:

```
$ cd ~/public_html
$ php -S localhost:8000 -t foo/
```

С помощью `-S` показываем адрес, по которому будет доступна папка из аргумента `-t`.
